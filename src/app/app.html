<!-- 
  Template principale dell'applicazione
  
  Struttura:
  1. Navbar (sempre visibile)
  2. Main content (cambia in base alla vista)
  3. Footer (sempre visibile)
-->

<!-- 
  NAVBAR - Componente condiviso
  Usiamo il selettore app-navbar per renderizzare il componente
-->
<app-navbar></app-navbar>

<!-- 
  MAIN CONTENT - Area principale che cambia
  min-height per far sì che il footer stia sempre in fondo
-->
<main class="main-content">

  <!-- 
    HOME VIEW
    @if - Mostra questo blocco SOLO se currentView è 'home'
  -->
  @if (currentView === 'home') {
  <div class="home-container">
    <div class="container py-5">
      <!-- Hero section -->
      <div class="hero-section text-center">
        <h1 class="hero-title">
          <i class="fas fa-bicycle fa-3x mb-3 d-block"></i>
          Welcome to {{ title }}
        </h1>
        <p class="hero-subtitle">
          Your premier destination for bike commerce management
        </p>
        <p class="hero-description">
          Manage customers, track products, and streamline your bicycle business
          with our modern, intuitive platform built with Angular.
        </p>
      </div>

      <!-- Feature cards -->
      <div class="row g-4 mt-5">
        <!-- Card Customers -->
        <div class="col-md-6 col-12">
          <div class="feature-card" (click)="changeView('customers')">
            <div class="feature-icon">
              <i class="fas fa-users fa-3x"></i>
            </div>
            <h3>Customer Management</h3>
            <p>
              Browse and manage your customer database with advanced
              filtering and search capabilities.
            </p>
            <button class="btn btn-primary">
              <i class="fas fa-arrow-right me-2"></i>
              View Customers
            </button>
          </div>
        </div>

        <!-- Card Products -->
        <div class="col-md-6 col-12">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-box fa-3x"></i>
            </div>
            <h3>Product Catalog</h3>
            <p>
              Access detailed product information including pricing,
              specifications, and inventory status.
            </p>
            <button class="btn btn-secondary">
              <i class="fas fa-arrow-right me-2"></i>
              View Products
            </button>
          </div>
        </div>
      </div>

      <!-- Stats section (opzionale) -->
      <div class="stats-section mt-5">
        <div class="row text-center g-4">
          <div class="col-md-4 col-12">
            <div class="stat-card">
              <i class="fas fa-users fa-2x mb-2"></i>
              <h2>{{active_customers}}</h2>
              <p>Active Customers</p>
            </div>
          </div>
          <div class="col-md-4 col-12">
            <div class="stat-card">
              <i class="fas fa-box fa-2x mb-2"></i>
              <h2>{{active_prods}}</h2>
              <p>Products</p>
            </div>
          </div>
          <div class="col-md-4 col-12">
            <div class="stat-card">
              <i class="fas fa-shopping-cart fa-2x mb-2"></i>
              <h2>89</h2>
              <p>Pending Orders</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  }

  <!-- 
    CUSTOMERS VIEW
    @else if - Mostra questo blocco SOLO se currentView è 'customers'
  -->
  @else if (currentView === 'customers') {
  <!-- 
      Renderizza il componente Customers
      Usa il selettore app-customers
    -->
  <app-customers></app-customers>
  }

  <!-- 
    PRODUCTS VIEW (placeholder)
    @else if - Mostra questo blocco SOLO se currentView è 'products'
  -->
  @else if (currentView === 'products') {
  <div class="container py-5 text-center">
    <i class="fas fa-box fa-5x mb-4" style="color: var(--color-accent);"></i>
    <h2>Products Coming Soon</h2>
    <p class="text-muted">
      The products component will be available soon.
      Stay tuned!
    </p>
    <button class="btn btn-primary" (click)="changeView('home')">
      <i class="fas fa-home me-2"></i>
      Back to Home
    </button>
  </div>
  }

  <!-- 
    FALLBACK - Se currentView non corrisponde a nessuna vista
    @else - Blocco di default
  -->
  @else {
  <div class="container py-5 text-center">
    <i class="fas fa-exclamation-triangle fa-5x mb-4" style="color: var(--color-strong);"></i>
    <h2>Page Not Found</h2>
    <p class="text-muted">
      The page you're looking for doesn't exist.
    </p>
    <button class="btn btn-primary" (click)="changeView('home')">
      <i class="fas fa-home me-2"></i>
      Go to Home
    </button>
  </div>
  }
</main>

<!-- 
  FOOTER - Componente condiviso
  Usiamo il selettore app-footer per renderizzare il componente
-->
<app-footer></app-footer>

<!-- 
  NOTA IMPORTANTE SUL ROUTING:
  
  In questo esempio usiamo un semplice sistema di "viste" con @if
  Per un'app più complessa, dovresti usare il Router di Angular:
  
  1. Configura le routes in app.routes.ts
  2. Usa <router-outlet> invece di @if
  3. Naviga con routerLink invece di (click)
  
  Esempio con Router:
  
  // app.routes.ts
  export const routes: Routes = [
    { path: '', component: HomeComponent },
    { path: 'customers', component: CustomersComponent },
    { path: 'products', component: ProductsComponent }
  ];
  
  // app.component.html
  <app-navbar></app-navbar>
  <router-outlet></router-outlet>
  <app-footer></app-footer>
  
  // navbar links
  <a routerLink="/">Home</a>
  <a routerLink="/customers">Customers</a>
  
  Per questo tutorial usiamo il metodo semplice con @if!
-->